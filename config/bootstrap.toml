# RINA IPCP Configuration - Bootstrap Mode
# This IPCP is the first in the DIF and provides enrollment services

[ipcp]
name = "ipcp-bootstrap"
type = "normal"
mode = "bootstrap"

[dif]
name = "production-dif"
address = 1001
address_pool_start = 1002
address_pool_end = 1999

[shim]
bind_address = "0.0.0.0"
bind_port = 7000

[enrollment]
# Bootstrap IPCP doesn't enroll with anyone
bootstrap_peers = []
# Enrollment timeout in seconds (conservative for production)
timeout_secs = 20
# Maximum retry attempts
max_retries = 5
# Initial backoff in milliseconds (exponential backoff: 2s, 4s, 8s, 16s, 32s)
initial_backoff_ms = 2000

[routing]
# Static routes are added dynamically during member enrollment
# Members will register their routes when they join the DIF
static_routes = []

# Route persistence settings
# Enable saving/loading of dynamic routes for resilience
enable_route_persistence = true
# Path to snapshot file
route_snapshot_path = "snapshots/ari-bootstrap-routes.toml"
# Default TTL for dynamic routes in seconds (3600 = 1 hour, 0 = never expires)
route_ttl_seconds = 3600
# Interval between automatic snapshots in seconds (300 = 5 minutes, 0 = disabled)
route_snapshot_interval_seconds = 300
