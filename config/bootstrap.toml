# RINA IPCP Configuration - Bootstrap Mode
# This IPCP is the first in the DIF and provides enrollment services

[ipcp]
name = "ipcp-bootstrap"
type = "normal"
mode = "bootstrap"

[dif]
name = "production-dif"
address = 1001
address_pool_start = 1002
address_pool_end = 1999

[shim]
bind_address = "0.0.0.0"
bind_port = 7000

[enrollment]
# Bootstrap IPCP doesn't enroll with anyone
bootstrap_peers = []
# Enrollment timeout in seconds (conservative for production)
timeout_secs = 20
# Maximum retry attempts
max_retries = 5
# Initial backoff in milliseconds (exponential backoff: 2s, 4s, 8s, 16s, 32s)
initial_backoff_ms = 2000

[routing]
# Static routes - Bootstrap knows how to reach member IPCPs
static_routes = [
    # Route to member IPCP #1
    { destination = 1002, next_hop_address = "127.0.0.1:7001", next_hop_rina_addr = 1002 },
    # Add more routes as members join
    # { destination = 1003, next_hop_address = "127.0.0.1:7002", next_hop_rina_addr = 1003 },
]
